$(function(){const timeline = document.querySelector('.timeline-container');if(timeline && window.matchMedia('(max-width:700px)').matches){let isDown = false;let startX,scrollLeft;timeline.addEventListener('mousedown',(e)=>{isDown = true;timeline.classList.add('dragging');startX = e.pageX - timeline.offsetLeft;scrollLeft = timeline.scrollLeft;});timeline.addEventListener('mouseleave',()=>{isDown = false;timeline.classList.remove('dragging');});timeline.addEventListener('mouseup',()=>{isDown = false;timeline.classList.remove('dragging');});timeline.addEventListener('mousemove',(e)=>{if(!isDown)return;e.preventDefault();const x = e.pageX - timeline.offsetLeft;const walk =(x - startX)* 1.2;timeline.scrollLeft = scrollLeft - walk;});timeline.addEventListener('touchstart',(e)=>{isDown = true;startX = e.touches[0].pageX - timeline.offsetLeft;scrollLeft = timeline.scrollLeft;});timeline.addEventListener('touchend',()=>{isDown = false;});timeline.addEventListener('touchmove',(e)=>{if(!isDown)return;const x = e.touches[0].pageX - timeline.offsetLeft;const walk =(x - startX)* 1.2;timeline.scrollLeft = scrollLeft - walk;});}const $icon = $('.js--mobile-nav-icon');const $nav = $('.js--main-nav');$icon.on('click',function(){$nav.slideToggle(200);const expanded = $(this).attr('aria-expanded')=== 'true';$(this).attr('aria-expanded',(!expanded).toString());const $i = $(this).find('ion-icon');if($i.length){$i.attr('name',expanded ? 'menu-outline':'close-outline');}});$(globalThis).on('resize',function(){if(globalThis.innerWidth > 790){$nav.removeAttr('style');$icon.attr('aria-expanded','false');const $i = $icon.find('ion-icon');if($i.length){$i.attr('name','menu-outline');}}});const tabs = document.querySelectorAll('.tab');const minimumSection = document.querySelector('.system-minimum');const recommendedSection = document.querySelector('.system-recommended');if(tabs.length > 0 && minimumSection && recommendedSection){minimumSection.classList.add('active');tabs.forEach(tab =>{tab.addEventListener('click',function(){tabs.forEach(t =>{t.classList.remove('active');t.setAttribute('aria-selected','false');});this.classList.add('active');this.setAttribute('aria-selected','true');const target = this.getAttribute('data-target');minimumSection.classList.remove('active');recommendedSection.classList.remove('active');if(target === 'minimum'){minimumSection.classList.add('active');}else if(target === 'recommended'){recommendedSection.classList.add('active');}});});}const communityForm = document.getElementById('communityForm');if(communityForm){communityForm.addEventListener('submit',function(e){e.preventDefault();const fullName = document.getElementById('fullName').value.trim();const nickname = document.getElementById('nickname').value.trim();const email = document.getElementById('email').value.trim();const platform = document.getElementById('platform').value;const age = document.getElementById('age').value;const country = document.getElementById('country').value.trim();const modeSelected = document.querySelector('input[name="mode"]:checked');if(!fullName || !nickname || !email || !platform || !age || !country || !modeSelected){alert('Please fill in all required fields.');return;}if(age < 13){alert('You must be at least 13 years old to join.');return;}localStorage.setItem('communitySignup',JSON.stringify({fullName,nickname,email,platform,age,country,mode:modeSelected.value,timestamp:new Date().toISOString()}));window.location.href = 'thank-you.html';});}});
